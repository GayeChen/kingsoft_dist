webpackJsonp([47],{352:function(e,t,n){"use strict";function r(e){}var a=function(e){return void 0!==e&&null!==e},u=/[\[\]\.]+/,l=function(e,t,n){if(!a(e))return{};var r=Array.isArray(t)?t:t.split(u),l=null,i=e,c=[],o=!0,d=!1,f=void 0;try{for(var s,p=r[Symbol.iterator]();!(o=(s=p.next()).done);o=!0){var m=s.value;if(0!==m.length&&(l=i,i=i[m],c.push(m),!a(i))){if(!n)return{path:c};l[m]={},i=l[m]}}}catch(e){d=!0,f=e}finally{try{!o&&p.return&&p.return()}finally{if(d)throw f}}return{value:i,path:c}},i=function(e,t){return r("`exist()` is deprecated, please use `exist.detect()`."),a(l(e,t).value)};i.detect=function(e,t){var n=l(e,t);return!!a(n.value)||n.path},i.get=function(e,t,n){var r=l(e,t).value;return a(r)?r:n},i.set=function(e,t,n,r){var i=Array.isArray(t)?t:t.split(u),c=i.pop(),o=l(e,i,r).value;return!!a(o)&&(o[c]=n,!0)};var c=function(){};i.invoke=function(e,t){var n=Array.isArray(t)?t:t.split(u),r=n.pop(),i=l(e,n).value;if(a(i)){var o=i[r];if("function"==typeof o)return o.bind(i)}return c},e.exports=i},541:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(n,r){e=60,(0,H.default)("/cloud/tree/"+e+"/eip").then(function(e){return t&&t(e),n((0,x.callback)(e,ae))})}}function u(e,t,n,r){return function(a,u){(0,H.default)("/cloud/com/"+e+"/prd/"+t+"/avaiip",n,"PUT",!0).then(function(e){return r&&r(e),a((0,x.callback)(e,ue))})}}function l(e,t,n){return function(r,a){(0,H.default)("/cloud/tree/"+e+"/eip",t,"PUT",!0).then(function(e){n&&n(e)})}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return function(r,a){(0,H.default)(w+"/",e,n,!0).then(function(e){return t&&t(e),r((0,x.callback)(e,F))})}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PUT";return function(r,a){(0,H.default)(w+("/"+e.id),e,n,!0).then(function(e){return t&&t(e),r((0,x.callback)(e,F))})}}function o(e){return(0,x.callback)(e,z)}function d(e){return(0,x.callback)(e,W)}function f(e){return(0,x.callback)(e,ee)}function s(e){return(0,x.callback)(e,$)}function p(e){return(0,x.callback)(e,Q)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return function(r,a){(0,H.default)(w+("/"+e.id),{},n).then(function(e){return t&&t(e),r((0,x.callback)(e,z))})}}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return function(r,a){(0,H.default)(w+("/"+e.id+"/vpc"),{},n).then(function(e){return t&&t(e),r((0,x.callback)(e,Q))})}}function _(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"PUT";return function(a,u){(0,H.default)("/cloud/tree/"+e+"/host",t,r,!0).then(function(e){return n&&n(e),a((0,x.callback)(e,re))})}}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DELETE";return function(r,a){(0,H.default)(w+("/"+e.id),e,n,!0).then(function(e){return t&&t(e),r((0,x.callback)(e,K))})}}function v(e,t){return function(n,r){(0,H.default)(j+("/"+e+"/vpc"),{}).then(function(e){return t&&t(e),n((0,x.callback)(e,W))})}}function g(e,t,n){return function(r,a){(0,H.default)(J+("/"+e.id+"/vpc"),t,"POST",!0).then(function(e){return n&&n(e),r((0,x.callback)(e,q))})}}function P(e,t,n){return function(r,a){(0,H.default)(X+("/"+e+"?assigned=true"),t,"PUT",!0).then(function(e){return n&&n(e),r((0,x.callback)(e,$))})}}function T(e,t,n){return function(r,a){(0,H.default)(Z+("/"+e+"?assigned=true"),t,"PUT",!0).then(function(e){return n&&n(e),r((0,x.callback)(e,$))})}}function I(e,t){return function(n,r){(0,H.default)(X+("/"+e+"?assigned=false"),{},"GET").then(function(e){return t&&t(e),n((0,x.callback)(e,ee))})}}function b(e,t,n){return function(r,a){(0,H.default)("/cloud/com/"+e+"/avaihost",t,"PUT",!0).then(function(e){return n&&n(e),r((0,x.callback)(e,ee))})}}function y(e,t,n,r){return function(a,u){(0,H.default)("/cloud/com/"+e+"/prd/"+t+"/availb",n,"PUT",!0).then(function(e){return r&&r(e),a((0,x.callback)(e,le))})}}function k(e,t){return function(n,r){(0,H.default)("/cloud/tree/"+e+"/elb?s=0").then(function(e){return t&&t(e),n((0,x.callback)(e,ie))})}}function D(e,t,n){return function(r,a){(0,H.default)("/cloud/tree/"+e+"/elb",t,"PUT",!0).then(function(e){n&&n(e)})}}function B(e,t){return function(n,r){(0,H.default)("/cloud/tree/"+e+"/host/",{},"GET").then(function(e){return t&&t(e),n((0,x.callback)(e,$))})}}function C(e,t,n){return function(r,a){(0,H.default)(Z+("/"+e+"?prdID="+t),{},"GET").then(function(e){return n&&n(e),r((0,x.callback)(e,te))})}}function L(e,t){return function(n,r){(0,H.default)(Z+("/"+e+"?prdID=0"),{},"GET").then(function(e){return t&&t(e),n((0,x.callback)(e,ne))})}}function U(e,t){return function(n,r){(0,H.default)(Y+("/"+e+"/prd"),{},"GET").then(function(e){return t&&t(e),n((0,x.callback)(e,M))})}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments[1],n=ce[t.type];return n?n(e,t):e}Object.defineProperty(t,"__esModule",{value:!0}),t.actions=t.GET_USED_LBSERVICE=t.GET_AVAILABLE_LBSERVICE=t.GET_AVAILABLE_EIPS=t.GET_EIPS_BY_NODEID=t.UPDATE_PRD_HOST=t.GET_UNBIND_ELB=t.GET_BIND_ELB=t.GET_UNBIND_HOST=t.GET_BIND_HOST=t.ELB_API=t.HOST_API=t.PRODUCT_VPC_INFO=t.PRODUCT_INFO=t.BIND_VPC=t.GET_VPC=t.BIND_VPC_API=t.VPC_API=t.PRODUCT_LIST_API=t.PRODUCT_API=t.PRODUCT_LIST=t.DEL_PRODUCT=t.PRODUCT=void 0;var O,S=n(23),N=r(S),G=n(55),R=r(G);t.getEipByNodeId=a,t.getAvailableEip=u,t.updateEipInfo=l,t.product=i,t.editProduct=c,t.setCurProduct=o,t.setCurVpcList=d,t.setCurUnbindHost=f,t.setCurBindHost=s,t.setCurProductVpc=p,t.getProductInfo=m,t.getProductVpcInfo=E,t.updatePrdHost=_,t.delProduct=h,t.getVpcs=v,t.bindVpcs=g,t.setPrdHost=P,t.setPrdElb=T,t.getUnbindHost=I,t.getUnbindHostByVpcs=b,t.getAvailableServiceByAccid=y,t.getUsedServiceByAccid=k,t.updateElbInfo=D,t.getBindHost=B,t.getBindElb=C,t.getUnbindElb=L,t.productList=U,t.default=A;var V=n(76),H=r(V),x=n(326),F=t.PRODUCT="PRODUCT",K=t.DEL_PRODUCT="DEL_PRODUCT",M=t.PRODUCT_LIST="PRODUCT_LIST",w=t.PRODUCT_API="/cloud/prd",Y=t.PRODUCT_LIST_API="/cloud/com",j=t.VPC_API="/cloud/tree",J=t.BIND_VPC_API="/cloud/prd",W=t.GET_VPC="GET_VPC",q=t.BIND_VPC="BIND_VPC",z=t.PRODUCT_INFO="PRODUCT_INFO",Q=t.PRODUCT_VPC_INFO="PRODUCT_VPC_INFO",X=t.HOST_API="/cloud/res/hosts/prd",Z=t.ELB_API="/cloud/res/elb/org",$=t.GET_BIND_HOST="GET_BIND_HOST",ee=t.GET_UNBIND_HOST="GET_UNBIND_HOST",te=t.GET_BIND_ELB="GET_BIND_ELB",ne=t.GET_UNBIND_ELB="GET_UNBIND_ELB",re=t.UPDATE_PRD_HOST="UPDATE_PRD_HOST",ae=t.GET_EIPS_BY_NODEID="GET_EIPS_BY_NODEID",ue=t.GET_AVAILABLE_EIPS="GET_AVAILABLE_EIPS",le=t.GET_AVAILABLE_LBSERVICE="GET_AVAILABLE_LBSERVICE",ie=t.GET_USED_LBSERVICE="GET_USED_LBSERVICE",ce=(t.actions={product:i,productList:U,editProduct:c,getVpcs:v,bindVpcs:g},O={},(0,N.default)(O,F,function(e,t){return(0,R.default)({},e)}),(0,N.default)(O,z,function(e,t){return(0,R.default)({},e,{curProduct:t.data})}),(0,N.default)(O,Q,function(e,t){return(0,R.default)({},e,{curProductVpc:t.data})}),(0,N.default)(O,M,function(e,t){return(0,R.default)({},e,t.data)}),(0,N.default)(O,$,function(e,t){return(0,R.default)({},e,{curBindHost:t.data})}),(0,N.default)(O,ee,function(e,t){return(0,R.default)({},e,{curUnBindHost:t.data})}),(0,N.default)(O,te,function(e,t){return(0,R.default)({},e,{curBindElb:t.data})}),(0,N.default)(O,ne,function(e,t){return(0,R.default)({},e,{curUnBindElb:t.data})}),(0,N.default)(O,le,function(e,t){return(0,R.default)({},e,{availableLbService:t.data})}),(0,N.default)(O,ie,function(e,t){return(0,R.default)({},e,{usedLbService:t.data})}),(0,N.default)(O,ae,function(e,t){return(0,R.default)({},e,{eiplist:t.data})}),(0,N.default)(O,ue,function(e,t){return(0,R.default)({},e,{availableEiplist:t.data})}),(0,N.default)(O,W,function(e,t){return(0,R.default)({},e,{vpcs:t.data})}),O),oe={prdHostCounter:0}},1662:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),u=r(a),l=n(3),i=r(l),c=n(7),o=r(c),d=n(5),f=r(d),s=n(4),p=r(s),m=(n(538),n(537)),E=r(m),_=n(1),h=r(_),v=n(37),g=n(199),P=n(352),T=r(P),I=E.default.SubMenu,b=E.default.Item;n(2972);var y=function(e){return{home:e.home,isAdmin:T.default.get(e,"home.curOrg.is_admin"),pathname:T.default.get(e,"router.locationBeforeTransitions.pathname")}},k=function(e){function t(e){(0,i.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.setStateByPath=function(e){var t=e.split("/");"setting"==t[5]&&n.setState({openKeys:[t[6]],selectedKeys:t[8]?[t[7]+"/"+t[8]]:[t[7]],version:n.state.version>1e3?0:n.state.version+1})},n.state={openKeys:[],selectedKeys:[],version:0},n}return(0,p.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.params.nodeId,n=e.pathname;null===this.props.children&&this.props.history.push("/center/tree/"+t+"/manage/setting/monitor/groups"),this.setStateByPath(n)}},{key:"componentWillReceiveProps",value:function(e){e.pathname!==this.props.pathname&&this.setStateByPath(e.pathname)}},{key:"render",value:function(){var e=T.default.get(this.props,"home.curOrg.is_admin"),t=this.props.params.nodeId;h.default.createElement("div",{className:"setting-slider",style:{width:"180px",minHeight:document.documentElement.clientHeight-74,backgroundColor:"#F2F2F2",borderRight:"1px solid #dee3e4",position:"relative"}},h.default.createElement(E.default,{mode:"inline"},h.default.createElement("div",{style:{paddingLeft:"24px",backgroundColor:"#f2f2f2"}},h.default.createElement(E.default.ItemGroup,{title:h.default.createElement("span",{style:{color:"#a7a7a7"}},"设置",h.default.createElement("span",{style:{right:"10px",top:"22px",position:"absolute",display:"inline-block",width:"90px",height:"1px",backgroundColor:"#ccc"}}))})),h.default.createElement(I,{key:"2",title:h.default.createElement("span",{style:{}},"监控告警组")},h.default.createElement(E.default.Item,{key:"2-1"},h.default.createElement(g.Link,{to:"/center/tree/"+t+"/manage/setting/monitor/groups"},"管理"))),1==e?h.default.createElement(I,{key:"3",title:h.default.createElement("span",{style:{}},"权限管理")},h.default.createElement(E.default.Item,{key:"3-1"},h.default.createElement(g.Link,{to:"/center/tree/"+t+"/manage/setting/permission/member"},"授权")),h.default.createElement(E.default.Item,{key:"3-2"},h.default.createElement(g.Link,{to:"/center/tree/"+t+"/manage/setting/permission/role/list"},"角色")),h.default.createElement(E.default.Item,{key:"3-3"},h.default.createElement(g.Link,{to:"/center/tree/"+t+"/manage/setting/permission/authority"},"查看权限"))):null,1==e&&h.default.createElement(I,{key:"4",title:h.default.createElement("span",{style:{}},"公司管理")},h.default.createElement(E.default.Item,{key:"4-1"},h.default.createElement(g.Link,{to:"/center/tree/"+t+"/manage/setting/company/invite"},"邀请")),h.default.createElement(E.default.Item,{key:"4-2"},h.default.createElement(g.Link,{to:"/center/tree/"+t+"/manage/setting/company/members"},"成员")),h.default.createElement(E.default.Item,{key:"4-3"},h.default.createElement(g.Link,{to:"/center/tree/"+t+"/manage/setting/company/ops"},"操作日志"))),h.default.createElement(I,{key:"5",title:h.default.createElement("span",{style:{}},"个人中心")},h.default.createElement(E.default.Item,{key:"5-4"},h.default.createElement(g.Link,{to:"/center/tree/"+t+"/manage/setting/company/exit"},"退出公司")))));return h.default.createElement("div",null,h.default.createElement("div",{style:{float:"left"}},this.SiderMenu),h.default.createElement("div",{style:{position:"relative",marginLeft:180,backgroundColor:"#FFFFFF"}},this.props.children))}},{key:"SiderMenu",get:function(){var e=this.props,t=e.params.nodeId,n=e.isAdmin,r=e.routes,a=this.state,u=a.selectedKeys,l=a.openKeys,i=a.version,c=r.find(function(e){return e&&"setting"==e.path}).childRoutes,o="/center/tree/"+t+"/manage/setting";return h.default.createElement("div",{className:"setting-slider",style:{width:"180px",minHeight:document.documentElement.clientHeight-74,backgroundColor:"#F2F2F2",borderRight:"1px solid #dee3e4",position:"relative"}},h.default.createElement(E.default,{key:i,selectedKeys:u,openKeys:l,mode:"inline"},h.default.createElement("div",{style:{paddingLeft:"24px",backgroundColor:"#f2f2f2"}},h.default.createElement(E.default.ItemGroup,{title:h.default.createElement("span",{style:{color:"#a7a7a7"}},"设置",h.default.createElement("span",{style:{right:"10px",top:"22px",position:"absolute",display:"inline-block",width:"90px",height:"1px",backgroundColor:"#ccc"}}))})),c.filter(function(e){return"基本资料"!==e.breadcrumbName}).filter(function(e){var t=e.path;return 1===n||"monitor"==t||"usercenter"==t}).map(function(e){var t=(e.path,h.default.createElement(I,{key:e.path,title:h.default.createElement("span",null,e.breadcrumbName)},e.childRoutes&&e.childRoutes.filter(function(e){return"角色编辑"!==e.breadcrumbName}).map(function(t){var n=o+("/"+e.path+"/"+t.path);return h.default.createElement(b,{key:t&&t.path},h.default.createElement(g.Link,{to:n},t.breadcrumbName))})));return t})))}}]),t}(_.Component);t.default=(0,v.connect)(y)(k)},2121:function(e,t,n){t=e.exports=n(31)(),t.push([e.id,".setting-slider .ant-menu-item{padding-left:48px;background:#f2f2f2}.setting-slider .ant-menu-item:hover,.setting-slider .ant-menu-submenu-title:hover,.setting-slider .ant-menu-submenu:hover,.setting-slider .ant-menu.ant-menu-root{background:#f2f2f2}",""])},2972:function(e,t,n){var r=n(2121);"string"==typeof r&&(r=[[e.id,r,""]]);n(32)(r,{});r.locals&&(e.exports=r.locals)}});